---
title: 0018 - åœ¨macOSä¸­è®¿é—®Dockerçš„æ•°æ®ç›®å½•ï¼ˆ/var/lib/dockerï¼‰
tags: ["Docker"]
---

æˆ‘ä»¬çŸ¥é“ Docker å°†æ•°æ®çš„ä¿å­˜åœ¨ç›®å½•`/var/lib/docker`ä¸­ï¼Œå¦‚æœæˆ‘ä»¬å°è¯•åœ¨ macOS ç³»ç»Ÿä¸­æ£€æŸ¥è¿™ä¸ªç›®å½•ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªç›®å½•å¹¶ä¸å­˜åœ¨ï¼š

```bash
$ ll -d /var/lib/docker
ls: /var/lib/docker: No such file or directory
```

æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥`/var/lib/docker`æ·±å…¥äº†è§£ Docker çš„è¿è¡Œæœºåˆ¶ï¼Œæ€æ ·åœ¨è®¿é—®åˆ°`/var/lib/docker`ï¼Ÿä»‹ç»ä¸¤ç§æ–¹æ³•ï¼š

1. è¿è¡Œå¸®åŠ©å®¹å™¨ï¼ŒæŒ‚è½½ç›®å½•
2. é€šè¿‡`screen`å‘½ä»¤ç›´æ¥è¿›å…¥å®¹å™¨

ç¬¬ä¸€ç§æ–¹æ¡ˆï¼Œè¿è¡Œå¸®åŠ©å®¹å™¨ï¼š

```bash
$ docker run --rm -it -v /:/vm-root alpine:edge sh
```

å…¶ä¸­æŒ‚è½½é€‰é¡¹`-v /:/vm-root`æŒ‡å®šäº†å°† DOCKER_HOST çš„`/`ï¼ˆä¸æ˜¯ macOS çš„`/`ï¼Œå°å¿ƒ ğŸ˜„ï¼‰ç›®å½•æŒ‚è½½è‡³å®¹å™¨çš„`/vm-root`ç›®å½•ï¼Œè€Œåï¼Œæˆ‘ä»¬åœ¨å®¹å™¨å‘½ä»¤è¡Œä¸­è®¿é—®`/vm-root/var/lib/docker`å³å¯æŸ¥çœ‹ Docker çš„æ•°æ®ç›®å½•ã€‚è¿™ç§æ–¹æ³•ä¼šæœ‰é¢å¤–çš„é•œåƒï¼ˆ`alpine:edge`ï¼‰ä¸‹è½½å’Œå­˜å‚¨å¼€é”€ã€‚æ›´ä¸ºç›´æ¥çš„æ–¹æ³•æ˜¯ç›´æ¥è¿›å…¥ hyperkit è™šæ‹Ÿæœºï¼š

```bash
$ screen ~/Library/Containers/com.docker.docker/Data/vms/0/tty
```

é€šè¿‡ç»„åˆé”®`Ctrl-A k`é€€å‡ºè™šæ‹Ÿæœºå‘½ä»¤è¡Œç•Œé¢ã€‚
